@model Tuple<List<Comment>, int>

@{
    Layout = null;
    string pageId = Context.Request.Query["pageId"].ToString();
}

@if (Model.Item2 > 0)
{
    <nav aria-label="Page navigation example">
        <ul class="pagination pg-blue">
            @for (int i = 1; i <= Model.Item2; i++)
            {
                <li class="page-item @((pageId == i.ToString()) ? "active" : "")"><a onclick="commentPage(@i)" class="page-link">@i</a></li>
            }
        </ul>
    </nav>
}

@foreach (var comment in Model.Item1)
{
    <div class="m-1 rounded border border-dark" style="padding:16px 4px">
        <div class="row m-0">
            <div class="col-12 border-bottom border-white clearfix pb-2">
                <img src="~/images/avatars/@comment.User.UserAvatar"
                     alt="@comment.User.UserName"
                     class="img-fluid user-avatar-comment mx-1 rounded-circle float-right" />

                <span class="mt-3 pr-2 d-inline-block">
                    @if (comment.User.FirstName != null && comment.User.LastName != null)
                    {
                        @comment.User.FirstName @comment.User.LastName
                    }
                    else { 
                    @comment.User.UserName
                    }
                </span>
            </div>
            <div class="col-12 text-left mt-1">
                <p class="text-muted">@comment.Body</p>
                <div class="clearfix border-top border-secondary">
                    <span class="float-left english-font mt-2">
                        <i class="fa fa-calendar ml-1"></i> @comment.CreateDate.ToPersianDate()
                    </span>
                </div>
            </div>
        </div>
    </div>
}