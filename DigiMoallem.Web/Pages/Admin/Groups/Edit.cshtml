@page "{id:min(1)}"
@model DigiMoallem.Web.Pages.Admin.Groups.EditModel

@{
    ViewData["Title"] = "ویرایش گروه";
}

<div class="container">

    <a asp-area="" asp-page="Index" class="btn btn-outline-info">
        <i class="fas fa-arrow-right ml-2"></i> بازگشت
    </a>

    <h1 class="my-5">
        <i class="fa fa-pen ml-2"></i> @ViewData["Title"]
    </h1>

    <form method="post" enctype="multipart/form-data" class="form-group">

        @if (ViewData["WrongInputs"] != null)
        {
            <div class="alert alert-danger">
                @ViewData["WrongInputs"]
            </div>
        }

        @if (ViewData["OperationFailed"] != null)
        {
            <div class="alert alert-danger">
                @ViewData["OperationFailed"]
            </div>
        }

        <input type="hidden" asp-for="Group.GroupId" />
        <input type="hidden" asp-for="Group.ParentId" />
        <input type="hidden" asp-for="Group.ImageName" />

        <div class="row">

            <div class="col-12 col-sm-8">

                <div class="card">

                    <div class="card-header">
                        ویرایش اطلاعات گروه
                    </div>

                    <div class="card-body">

                        <!-- title -->
                        <div class="form-group mb-5">
                            <label asp-for="Group.Title"></label>
                            <input type="text" asp-for="Group.Title" class="form-control">
                            <span asp-validation-for="Group.Title" class="text-danger"></span>
                        </div>

                        <!-- edit -->
                        <div class="form-group my-5">
                            <button type="submit" class="btn btn-outline-warning">
                                <i class="fas fa-edit ml-2"></i> ویرایش گروه
                            </button>
                        </div>

                    </div>

                </div>

            </div>

            <div class="col-12 col-sm-4">
                <!-- avatar section -->
                <div class="card">

                    <div class="card-header">
                        <i class="fa fa-image ml-1"></i> تصویر گروه
                    </div>

                    <div class="card-body">

                        <img id="display-image"
                             src="~/Images/groups/@Model.Group.ImageName"
                             class="mx-auto my-2 d-block rounded"
                             alt="default avatar"
                             style="max-width:250px" />

                        <div class="form-group">
                            <div class="input-group my-4 w-100">
                                <div class="custom-file">
                                    <input type="file" class="custom-file-input"
                                           asp-for="Group.ImageName"
                                           id="image"
                                           name="Image" />
                                    <label class="custom-file-label" style="padding-right:6rem"
                                           asp-for="Group.ImageName">انتخاب فایل</label>
                                </div>
                            </div>
                        </div>

                    </div>

                </div>
            </div>

        </div>

    </form>

</div>

@section Scripts {
    <script src="~/Admin/Scripts/Site.js"></script>
}