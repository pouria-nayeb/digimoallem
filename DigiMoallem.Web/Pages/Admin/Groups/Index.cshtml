@page
@model DigiMoallem.Web.Pages.Admin.Groups.IndexModel

@{
    ViewData["Title"] = "گروه دوره ها";
}

<h1>@ViewData["Title"]</h1>

@if (TempData["Success"] != null)
{
    <div class="alert alert-success">
        @TempData["Success"]
    </div>
}

<div class="container">

    <a asp-area=""
       asp-page="Create"
       class="btn btn-success btn-md m-3"> 
     <i class="fas fa-plus ml-2"></i> افزودن گروه جدید
    </a>

    <div class="table-responsive">
        <table class="table table-bordered text-center table-dark">

            <thead>
                <tr>
                    <th>نام گروه</th>
                    @*<th>زیرگروه ها</th>*@
                    <th>دستورات</th>
                </tr>
            </thead>

            <tbody>
                @foreach (var group in Model.Groups.Where(g => g.ParentId == null))
                {
                    <tr>
                        <td>@group.Title</td>
                        @*<td>
                            @if (group.Groups != null)
                            {
                                @foreach (var subGroup in group.Groups)
                                {
                                    <text>@subGroup.Title - <a href="/Admin/Groups/Edit/@subGroup.GroupId" class="btn btn-outline-warning btn-sm"> ویرایش </a> - <a href="/Admin/Groups/Delete/@subGroup.GroupId" class="btn btn-outline-danger btn-sm"> حذف </a>| </text>
                                }
                            }
                        </td>*@
                        <td>
                            <a href="/Admin/Groups/Edit/@group.GroupId" class="btn btn-warning btn-sm"> ویرایش </a> @*<a href="/Admin/Groups/Delete/@group.GroupId" class="btn btn-danger btn-sm"> حذف </a> |*@ @*<a href="/Admin/Groups/Create/@group.GroupId" class="btn btn-success text-white btn-sm"> افزودن زیرگروه </a>*@
                        </td>
                    </tr>
                }
            </tbody>

        </table>
    </div>

</div>
